\newcommand{\sfont}[1]{\mathsf{#1}}
\newcommand{\propfont}[1]{\mathbf{#1}}
\newcommand{\mffont}[1]{\textit{#1}}
\mathchardef\mhyphen="2D

% --- symbols

\newcommand{\sT}{\sfont{T}}
\newcommand{\sS}{\sfont{S}}
\newcommand{\sU}{\sfont{U}}
\newcommand{\sX}{\sfont{X}}
\newcommand{\stlang}{\sT}
\newcommand{\sslang}{\sS}
\newcommand{\sulang}{\sU}
\newcommand{\snoop}{\sfont{noop}}
\newcommand{\sscan}{\sfont{scan}}
\newcommand{\swrap}{\sfont{wrap}}
\newcommand{\smon}{\sfont{mon}}
\newcommand{\spair}{\times}
\newcommand{\sfun}{\Rightarrow}
\newcommand{\stypeenv}{\Gamma}
\newcommand{\stype}{\tau}
\newcommand{\sshape}{\sigma}
\newcommand{\ssurface}{s}
\newcommand{\sexpr}{e}
\newcommand{\svalue}{v}
\newcommand{\sdelta}{\delta}
\newcommand{\sDelta}{\Delta}
\newcommand{\svar}{x}
\newcommand{\slangeq}{=}
\newcommand{\sexpreq}{=}
\newcommand{\sdefeq}{\stackrel{\footnotesize def}{=}}
\newcommand{\sint}{i}
\newcommand{\snat}{n}
\newcommand{\slang}{L}
\newcommand{\sapp}{\sfont{app}}
\newcommand{\sunop}{\textit{unop}}
\newcommand{\sfst}{\sfont{fst}}
\newcommand{\ssnd}{\sfont{snd}}
\newcommand{\sbinop}{\textit{binop}}
\newcommand{\ssum}{\sfont{sum}}
\newcommand{\squotient}{\sfont{quotient}}
\newcommand{\smod}{\sfont{module}}
\newcommand{\mkvdash}[1]{\vdash_{#1}}
\newcommand{\sST}{\mkvdash{\ssurface}}
\newcommand{\sWTU}{\mkvdash{\sU}}
\newcommand{\sWTS}{\mkvdash{\sS}}
\newcommand{\sWTT}{\mkvdash{\sT}}
\newcommand{\sWTX}{\mkvdash{\sX}}
\newcommand{\scompile}{\rightsquigarrow}
\newcommand{\snr}{\vartriangleright}
\newcommand{\scc}{\rightarrow}
\newcommand{\srr}{\scc^{*}}
\newcommand{\serror}{\sfont{Err}}
\newcommand{\stagerror}{\sfont{TagErr}}
\newcommand{\sscanerror}{\sfont{ScanErr}}
\newcommand{\swraperror}{\sfont{WrapErr}}
\newcommand{\sdivzeroerror}{\sfont{DivZeroErr}}
\newcommand{\sshapecheck}{\mffont{shape}}
\newcommand{\sshapematch}{\mffont{shape-match}}
\newcommand{\sdyn}{\mathcal{U}}
\newcommand{\ssubt}{\mathrel{<:}}
\newcommand{\sowner}{\ell}
\newcommand{\suowner}{\sU}
\newcommand{\ssowner}{\sS}
\newcommand{\stowner}{\sT}
\newcommand{\sWL}{\Vdash}
\newcommand{\sownerenv}{\mathcal{L}}
\newcommand{\sbndcomma}{\raisebox{0.2ex}{$\scriptscriptstyle\blacktriangleleft$}}
\newcommand{\stypemap}{\sfont{F}}
\newcommand{\stypemapzero}{\propfont{0}}
\newcommand{\stypemapshape}{\propfont{X}}
\newcommand{\stypemapone}{\sshapecheck}
\newcommand{\sctx}{E}
\newcommand{\sctxhole}{\bullet}


% --- types etc

\newcommand{\tdyn}{\sdyn}
\newcommand{\typefont}[1]{\mathsf{#1}}
\newcommand{\lowersym}[1]{\raisebox{-0.7ex}{$#1$}}
\newcommand{\tfloor}[1]{\lowersym{\llcorner}\!\!#1\!\!\lowersym{\lrcorner}}
\newcommand{\tnat}{\typefont{Nat}}
\newcommand{\tint}{\typefont{Int}}
\newcommand{\tpair}[2]{#1\!\spair\!#2}
\newcommand{\tfun}[2]{#1\!\sfun\!#2}
\newcommand{\tann}[2]{(#1\!:\!#2)}
\newcommand{\knat}{\tnat}
\newcommand{\kint}{\tint}
\newcommand{\kpair}{\typefont{Pair}}
\newcommand{\kfun}{\typefont{Fun}}
\newcommand{\kany}{\typefont{Any}}
\newcommand{\stspec}{\sX}


% --- expressions

\newcommand{\mktwoapp}[2]{#1\,#2}
\newcommand{\mkthreeapp}[3]{#1\,#2\,#3}
\newcommand{\makebnd}[3]{\mktwoapp{#1}{#2~#3}}
\newcommand{\addlangs}[3]{{#1}^{#2}_{#3}}

\newcommand{\enoop}[1]{\makebnd{\snoop}{}{#1}}
\newcommand{\escan}[2]{\makebnd{\sscan}{#1}{#2}}
\newcommand{\ewrap}[2]{\makebnd{\swrap}{#1}{#2}}
\newcommand{\emon}[2]{\makebnd{\smon}{#1}{#2}}
\newcommand{\ebnoop}[3]{\makebnd{\addlangs{\snoop}{#1}{#2}}{}{#3}}
\newcommand{\ebscan}[4]{\makebnd{\addlangs{\sscan}{#1}{#2}}{#3}{#4}}
\newcommand{\ebwrap}[4]{\makebnd{\addlangs{\swrap}{#1}{#2}}{#3}{#4}}
\newcommand{\ebmon}[4]{\makebnd{\addlangs{\smon}{#1}{#2}}{#3}{#4}}
\newcommand{\efun}[2]{\lambda #1.\, #2}
\newcommand{\epair}[2]{\langle #1,#2 \rangle}
\newcommand{\eapp}[2]{\mktwoapp{\sapp}{#1~#2}}
\newcommand{\eunop}[1]{\mktwoapp{\sunop}{#1}}
\newcommand{\efst}[1]{\mktwoapp{\sfst}{#1}}
\newcommand{\esnd}[1]{\mktwoapp{\ssnd}{#1}}
\newcommand{\ebinop}[2]{\mkthreeapp{\sbinop}{#1}{#2}}
\newcommand{\esum}[2]{\mkthreeapp{\ssum}{#1}{#2}}
\newcommand{\equotient}[2]{\mkthreeapp{\squotient}{#1}{#2}}
\newcommand{\emod}[2]{\mktwoapp{\smod}{#1~#2}}
\newcommand{\emodule}[2]{\emod{#1}{#2}}
\newcommand{\esubst}[3]{#1[#2\!\leftarrow\!#3]}
\newcommand{\ownedby}[2]{{#1}^{#2}}
\newcommand{\obnd}[3]{(#1 \sbndcomma\,#2 \sbndcomma\,#3)}


% --- metafunctions

\newcommand{\fcons}[2]{#1,#2}
\newcommand{\fsubt}[2]{#1 \ssubt #2}
\newcommand{\fdeclare}[1]{\forall~#1}
\newcommand{\fshape}[1]{\mktwoapp{\sshapecheck}{(#1)}}
\newcommand{\ftypemap}[1]{\mktwoapp{\stypemap}{(#1)}}
\newcommand{\ftypemapshape}[1]{\mktwoapp{\stypemapshape}{(#1)}}
\newcommand{\fTS}[1]{\mktwoapp{\propfont{TS}}{(#1)}}
\newcommand{\finhole}[2]{#1[#2]}
\newcommand{\fdefined}[1]{#1 \mbox{ is defined}}
\newcommand{\fshapematch}[2]{\mktwoapp{\sshapematch}{(#1, #2)}}
\newcommand{\fexists}[1]{\exists\,#1~.~}

% --- environments

\newenvironment{langarray}{\(\begin{array}[t]{l@{\hspace{0.5em}}c@{\hspace{0.5em}}l}}{\end{array}\)}
\newenvironment{mfarray}{\(\begin{array}{l@{~~}c@{~}l}}{\end{array}\)}
\newenvironment{rrarray}{\(\begin{array}{l@{\hspace{0.5em}}c@{\hspace{0.5em}}l}}{\end{array}\)}

\newcommand{\sidecond}[1]{\multicolumn{3}{l}{\mbox{\quad #1}}}
